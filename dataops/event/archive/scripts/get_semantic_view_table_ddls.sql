-- Script to get DDLs for all tables/views used in semantic views
-- Run this against your test instance to get the current DDLs

-- For COMPANY_DATA_8_CORE_FEATURED_TICKERS semantic view
SELECT 'INFOGRAPHICS_FOR_SEARCH' AS TABLE_NAME, GET_DDL('TABLE', 'ACCELERATE_AI_IN_FSI.DEFAULT_SCHEMA.INFOGRAPHICS_FOR_SEARCH') AS DDL
UNION ALL
SELECT 'SENTIMENT_WITH_TRANSCRIPTS_FOR_SEARCH', GET_DDL('VIEW', 'ACCELERATE_AI_IN_FSI.DEFAULT_SCHEMA.SENTIMENT_WITH_TRANSCRIPTS_FOR_SEARCH')
UNION ALL
SELECT 'VW_FINANCIAL_SUMMARY', GET_DDL('VIEW', 'ACCELERATE_AI_IN_FSI.DOCUMENT_AI.VW_FINANCIAL_SUMMARY')
UNION ALL
SELECT 'VW_INCOME_STATEMENT', GET_DDL('VIEW', 'ACCELERATE_AI_IN_FSI.DOCUMENT_AI.VW_INCOME_STATEMENT')
UNION ALL
SELECT 'VW_KPI_METRICS', GET_DDL('VIEW', 'ACCELERATE_AI_IN_FSI.DOCUMENT_AI.VW_KPI_METRICS')

-- For SNOWFLAKE_ANALYSTS_VIEW semantic view
UNION ALL
SELECT 'TRANSCRIBED_EARNINGS_CALLS_WITH_SENTIMENT', GET_DDL('TABLE', 'ACCELERATE_AI_IN_FSI.DEFAULT_SCHEMA.TRANSCRIBED_EARNINGS_CALLS_WITH_SENTIMENT')
UNION ALL
SELECT 'TRANSCRIPTS_BY_MINUTE', GET_DDL('TABLE', 'ACCELERATE_AI_IN_FSI.DEFAULT_SCHEMA.TRANSCRIPTS_BY_MINUTE')
UNION ALL
SELECT 'SENTIMENT_ANALYSIS', GET_DDL('TABLE', 'ACCELERATE_AI_IN_FSI.DEFAULT_SCHEMA.SENTIMENT_ANALYSIS')
UNION ALL
SELECT 'STOCK_PRICE_TIMESERIES', GET_DDL('VIEW', 'ACCELERATE_AI_IN_FSI.DEFAULT_SCHEMA.STOCK_PRICE_TIMESERIES')
UNION ALL
SELECT 'ANALYST_REPORTS', GET_DDL('TABLE', 'ACCELERATE_AI_IN_FSI.DEFAULT_SCHEMA.ANALYST_REPORTS')

-- Also get dependent tables
UNION ALL
SELECT 'VW_INFOGRAPHIC_METRICS', GET_DDL('VIEW', 'ACCELERATE_AI_IN_FSI.DOCUMENT_AI.VW_INFOGRAPHIC_METRICS')
UNION ALL
SELECT 'INFOGRAPHIC_METRICS_EXTRACTED', GET_DDL('TABLE', 'ACCELERATE_AI_IN_FSI.DOCUMENT_AI.INFOGRAPHIC_METRICS_EXTRACTED')
UNION ALL
SELECT 'ANALYST_REPORTS_ALL_DATA', GET_DDL('TABLE', 'ACCELERATE_AI_IN_FSI.DOCUMENT_AI.ANALYST_REPORTS_ALL_DATA')
UNION ALL
SELECT 'AI_TRANSCRIPTS_ANALYSTS_SENTIMENTS', GET_DDL('TABLE', 'ACCELERATE_AI_IN_FSI.DEFAULT_SCHEMA.AI_TRANSCRIPTS_ANALYSTS_SENTIMENTS')
;

